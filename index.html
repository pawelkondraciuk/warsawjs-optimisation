<!DOCTYPE html>
<html lang="en">
<head>
    

    <meta charset="utf-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Shower Theme -->
    <link rel="stylesheet" href="vendors/shower-ribbon/styles/screen-16x10.css"/>
    <link rel="stylesheet" href="vendors/shower-warsawjs/styles/main.css"/>
    <link rel="stylesheet" href="vendors/shower-video/shower-video.css"/>
    <link rel="stylesheet" href="vendors/chartist/chartist.min.css">

    <!-- Prism.js -->
    <link rel="stylesheet" href="vendors/prism/prism.css"/>
    <link rel="stylesheet" href="modules/custom-prism.css"/>
    <link rel="stylesheet" href="modules/styles.css"/>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Workout plan: how to lose kilobytes</h1>
        <p>We talk about JavaScript. Each month in Warsaw, Poland.</p>
    </header>

    <section class="slide front-page">
        <div class="logo">
            <!-- Logo WarsawJS -->
            <img src="pictures/logo/warsawjs-logo-light.png">
        </div>
        <div class="details">
            <!-- 1. Avatar -->
            <img src="pictures/my-avatar.jpg" alt="Speaker"/>

            <!-- 2. Speaker -->
            <h2>Paweł Kondraciuk</h2>

            <!-- 3. Presentation title -->
            <h2><strong>Workout plan to lose kilobytes</strong></h2>

            <!-- 4. Presentation date -->
            <h2>2017-06-14</h2>

            <!-- 5. Contact the speaker -->
            <h2><a href="http://twitter.com/pawelkondraciuk">@pawelkondraciuk</a></h2>
        </div>
    </section>

    <section class="slide">
        <h2>Who Am I</h2>
        <ul>
            <li class="next">JavaScript Developer</li>
            <li class="next">Working at <img src="pictures/instapage.png" class="instapage"/></li>
            <li class="next">From Białystok</li>
        </ul>
        <img src="pictures/bialystok.jpg" class="next"/>
        <style>
            .instapage {
                height: 40px;
                vertical-align: middle;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Specs</h2>
		<ul>
			<li class="next">Angular 4.0.3
				<ul>
					<li>7 components</li>
					<li>4 root paths, 2 child paths</li>
				</ul>
			</li>
			<li class="next">Rxjs
				<ul>
					<li>Observable</li>
				</ul>
			</li>
			<li class="next">Lodash
				<ul>
					<li>isArray</li>
				</ul>
			</li>
		</ul>
    </section>

    <section class="slide compact">
		<video width="100%" preload>
            <source src="videos/no-opt.webm" type="video/webm">
        </video>
	</section>

    <section class="slide compact">
		<video width="100%" preload>
            <source src="videos/app.webm" type="video/webm">
        </video>
	</section>

	<section class="slide">
		<img src="pictures/fat-cat.gif" class="full-height" />
	</section>

    <section class="slide">
		<h2>Statistics</h2>
		<ul>
			<li class="next">47% of customers expect a cat to go through in less than 2 secs</li>
			<li class="next">40% of customers will leave if it lasts more than 3 seconds</li>
			<li class="next">70% of mobile users say that they saw cat that was too slow to move</li>
			<li class="next">51% of mobile users say that they saw cat that stucked</li>
		</ul>
		<p class="note next">source: Akamai 10For10, KissMetrics</p>
	</section>

    <section class="slide">
		<h2>Every Second Counts</h2>
		<ul>
			<li class="next">11% less views</li>
			<li class="next">16% decrease in customer satisfaction</li>
			<li class="next">7% reduction in conversions</li>
			<li class="next">Losing money $$</li>
		</ul>
		<p class="note next">source: Amazon, Walmart, KissMetrics</p>
	</section>

	<section class="slide">
		<h2>That's not all!</h2>
		<ul>
			<li class="next"><a href="https://productforums.google.com/forum/#!topic/webmasters/x-tAmtvK9iA/discussion" target="_blank">Negative ranking factor</a></li>
			<li class="next">Growing users frustration</li>
			<li class="next">Lower trust in the product</li>
		</ul>
	</section>

    <section class="slide compact">
		<h2>Mobile vs Tablet vs Desktop</h2>
		<div class="ct-chart ct-chart-line ct-chart-usage"></div>
		<p class="note">source: <a href="http://gs.statcounter.com/platform-market-share/desktop-mobile-tablet#monthly-200901-201705" target="_blank">StatCounter (2.5mln stron)</a></p>
		<style>
			.ct-chart {
				height: 65%;
			}
		</style>
	</section>

	<section class="slide">
		<h2>Download time for 100KB</h2>
		<div class="ct-chart ct-chart-bar ct-chart-load-time"></div>
		<style>
			p.reduced-speed {
				font-size: 20px;
			}
		</style>
	</section>

    <section class="slide middle with-img">
		<div class="middle">
			<p>App bundle</p>
			4MB => 10min @ 3G
		</div>
		<img src="pictures/imout.gif" />
	</section>

    <section class="slide">
		<h2>Minification, obfuscation and optimisation</h2>
		<ul>
			<li class="next">Mangle variables</li>
			<li class="next">Remove comments</li>
			<li class="next"><b>Drop dead code</b></li>
			<li class="next">Optimise loops</li>
			<li class="next">Various optimizations for boolean context</li>
		</ul>
	</section>

	<section class="slide compact">
		<h2>Minification - Webpack + UglifyJsPlugin</h2>
		<pre class="no-number">
			<code>new UglifyJsPlugin({</code>
			<code>  beautify: false,</code>
            <code>  output: { comments: false },</code>
            <code>  compress: {</code>
            <code>    unused: true,</code>
            <code>    dead_code: true</code>
            <code>  }</code>
            <code>})</code>
		</pre>
	</section>

    <section class="slide compact">
		<video width="100%" preload>
            <source src="videos/minification.webm" type="video/webm">
        </video>
	</section>

    <section class="slide middle with-img">
		<div class="middle">
			<p>App bundle + UglifyJs</p>
			1.4MB => 3:41min @ 3G
		</div>
		<img src="pictures/wat.gif" />
	</section>

    <section class="slide">
        <h2>Deeper application analysation</h2>
		<img src="pictures/inside.gif" class="full-height with-title" />
	</section>

    <section class="slide">
		<h2>Deeper application analysation</h2>
		<ul>
			<li><a href="http://webpack.github.io/analyse" target="_blank">http://webpack.github.io/analyse</a>
				<ul>
					<li class="next">webpack --profile --json > stats.json</li>
					<li class="next">Dependency graph</li>
					<li class="next">Detailed statistics</li>
				</ul>
			</li>
		</ul>
	</section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/analyse-graph.png" alt="Graph analyse">
		</figure>
	</section>

    <section class="slide">
		<h2>Deep application analysation</h2>
		<ul>
			<li><a href="http://webpack.github.io/analyse" target="_blank">http://webpack.github.io/analyse</a>
				<ul>
					<li>webpack --profile --json > stats.json</li>
					<li>Dependency graph</li>
					<li>Detailed statistics</li>
				</ul>
			</li>
			<li class="next">source-map-explorer
				<ul>
					<li class="next">npm install source-map-explorer</li>
					<li class="next">source-map-explorer main.bundle.js main.bundle.js.map</li>
				</ul>
			</li>
		</ul>
	</section>

    <section class="slide prism">
        <pre style="font-size: 21px;" class="language-javascript line-numbers">
            <code>
                // webpack.config.js
                const path = require('path');

                module.exports =  = {
                    entry: './src/main.ts',
                    output: {
                        path: path.resolve(__dirname, 'dist'),
                        filename: 'app.js'
                    }
                };
            </code>
        </pre>
    </section>

    <section class="slide">
        <svg width="100%" height="400px" viewBox="0.00 0.00 350.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
                <!-- A -->
                <g id="node1" class="node">
                    <ellipse fill="none" cx="171" cy="-162" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="171" y="-157.8">app.js</text>
                </g>
                <!-- B -->
                <g id="node3" class="node">
                    <ellipse fill="none" cx="99" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;B -->
                <g id="edge2" class="edge">
                    <path fill="none" d="M156.43,-146.834C146.25,-136.938 132.476,-123.546 120.969,-112.359"></path>
                    <polygon points="123.405,-109.846 113.796,-105.385 118.526,-114.865 123.405,-109.846"></polygon>
                </g>
                <!-- X -->
                <g id="node5" class="node">
                    <ellipse fill="none" cx="171" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;X -->
                <g id="edge4" class="edge">
                    <path fill="none" d="M171,-143.697C171,-135.983 171,-126.712 171,-118.112"></path>
                    <polygon points="174.5,-118.104 171,-108.104 167.5,-118.104 174.5,-118.104"></polygon>
                </g>
                <!-- C -->
                <g id="node7" class="node vendor">
                    <ellipse fill="none" cx="243" cy="-90" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="243" y="-85.8">A</text>
                </g>
                <!-- A&#45;&gt;C -->
                <g id="edge6" class="edge">
                    <path fill="none" d="M185.57,-146.834C195.75,-136.938 209.524,-123.546 221.031,-112.359"></path>
                    <polygon points="223.474,-114.865 228.204,-105.385 218.595,-109.846 223.474,-114.865"></polygon>
                </g>
                <!-- F -->
                <g id="node15" class="node">
                    <ellipse fill="none" cx="27" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- B&#45;&gt;F -->
                <g id="edge14" class="edge">
                    <path fill="none" d="M84.4297,-74.8345C74.2501,-64.9376 60.4761,-51.5462 48.9694,-40.3591"></path>
                    <polygon points="51.4055,-37.8461 41.7957,-33.3847 46.5259,-42.865 51.4055,-37.8461"></polygon>
                </g>
                <!-- G -->
                <g id="node17" class="node">
                    <ellipse fill="none" cx="99" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- B&#45;&gt;G -->
                <g id="edge16" class="edge">
                    <path fill="none" d="M99,-71.6966C99,-63.9827 99,-54.7125 99,-46.1124"></path>
                    <polygon points="102.5,-46.1043 99,-36.1043 95.5001,-46.1044 102.5,-46.1043"></polygon>
                </g>
                <!-- Y -->
                <g id="node13" class="node">
                    <ellipse fill="none" cx="171" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- X&#45;&gt;Y -->
                <g id="edge12" class="edge">
                    <path fill="none" d="M171,-71.6966C171,-63.9827 171,-54.7125 171,-46.1124"></path>
                    <polygon points="174.5,-46.1043 171,-36.1043 167.5,-46.1044 174.5,-46.1043"></polygon>
                </g>
                <!-- D -->
                <g id="node9" class="node vendor">
                    <ellipse fill="none" cx="243" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="243" y="-13.8">B</text>
                </g>
                <!-- C&#45;&gt;D -->
                <g id="edge8" class="edge">
                    <path fill="none" d="M243,-71.6966C243,-63.9827 243,-54.7125 243,-46.1124"></path>
                    <polygon points="246.5,-46.1043 243,-36.1043 239.5,-46.1044 246.5,-46.1043"></polygon>
                </g>
                <!-- E -->
                <g id="node11" class="node vendor">
                    <ellipse fill="none" cx="315" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="315" y="-13.8">C</text>
                </g>
                <!-- C&#45;&gt;E -->
                <g id="edge10" class="edge">
                    <path fill="none" d="M257.57,-74.8345C267.75,-64.9376 281.524,-51.5462 293.031,-40.3591"></path>
                    <polygon points="295.474,-42.865 300.204,-33.3847 290.595,-37.8461 295.474,-42.865"></polygon>
                </g>
            </g>
        </svg>
    </section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/no-splitting-map.png" alt="No optimisation">
		</figure>
	</section>

    <section class="slide">
        <h2>Bundle splitting</h2>
        <ul>
            <li>Single and huge JS file</li>
            <li>User must download complete bundle if app is changed</li>
            <li><mark>CommonsChunkPlugin</mark> comes to the rescue</li>
        </ul>
    </section>

    <section class="slide prism">
        <pre style="font-size: 21px;" class="language-javascript line-numbers">
            <code>
                module.exports = {
                    entry: {
                        app: './src/main.ts',
                        <mark>vendor: './src/vendor.ts'</mark>
                    },
                    plugins: {
                        new webpack.optimize.CommonsChunkPlugin({
                            name: ['app', 'vendor']
                        }),
                    }
                };
            </code>
        </pre>
    </section>

    <section class="slide">
        <svg width="100%" height="350px" viewBox="0.00 0.00 494.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">

                <!-- A -->
                <g id="node1" class="node">
                    <ellipse fill="none" cx="171" cy="-162" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="171" y="-157.8">app.js</text>
                </g>
                <!-- G -->
                <g id="node3" class="node">
                    <ellipse fill="none" cx="99" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;G -->
                <g id="edge2" class="edge">
                    <path fill="none" d="M156.43,-146.834C146.25,-136.938 132.476,-123.546 120.969,-112.359"></path>
                    <polygon points="123.405,-109.846 113.796,-105.385 118.526,-114.865 123.405,-109.846"></polygon>
                </g>
                <!-- X -->
                <g id="node5" class="node">
                    <ellipse fill="none" cx="171" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;X -->
                <g id="edge4" class="edge">
                    <path fill="none" d="M171,-143.697C171,-135.983 171,-126.712 171,-118.112"></path>
                    <polygon points="174.5,-118.104 171,-108.104 167.5,-118.104 174.5,-118.104"></polygon>
                </g>
                <!-- B -->
                <g id="node7" class="node vendor">
                    <ellipse fill="none" cx="261" cy="-90" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="261" y="-85.8">A</text>
                </g>
                <!-- A&#45;&gt;B -->
                <g id="edge6" class="edge">
                    <path fill="none" d="M187.928,-147.834C201.505,-137.274 220.757,-122.3 236.092,-110.373"></path>
                    <polygon points="238.403,-113.01 244.148,-104.107 234.105,-107.484 238.403,-113.01"></polygon>
                </g>
                <!-- F -->
                <g id="node15" class="node">
                    <ellipse fill="none" cx="27" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- G&#45;&gt;F -->
                <g id="edge14" class="edge">
                    <path fill="none" d="M84.4297,-74.8345C74.2501,-64.9376 60.4761,-51.5462 48.9694,-40.3591"></path>
                    <polygon points="51.4055,-37.8461 41.7957,-33.3847 46.5259,-42.865 51.4055,-37.8461"></polygon>
                </g>
                <!-- K -->
                <g id="node17" class="node">
                    <ellipse fill="none" cx="99" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- G&#45;&gt;K -->
                <g id="edge16" class="edge">
                    <path fill="none" d="M99,-71.6966C99,-63.9827 99,-54.7125 99,-46.1124"></path>
                    <polygon points="102.5,-46.1043 99,-36.1043 95.5001,-46.1044 102.5,-46.1043"></polygon>
                </g>
                <!-- Y -->
                <g id="node9" class="node">
                    <ellipse fill="none" cx="171" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- X&#45;&gt;Y -->
                <g id="edge8" class="edge">
                    <path fill="none" d="M171,-71.6966C171,-63.9827 171,-54.7125 171,-46.1124"></path>
                    <polygon points="174.5,-46.1043 171,-36.1043 167.5,-46.1044 174.5,-46.1043"></polygon>
                </g>
                <!-- C -->
                <g id="node11" class="node vendor">
                    <ellipse fill="none" cx="243" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="243" y="-13.8">B</text>
                </g>
                <!-- B&#45;&gt;C -->
                <g id="edge10" class="edge">
                    <path fill="none" d="M256.643,-72.055C254.609,-64.1446 252.139,-54.5398 249.863,-45.6879"></path>
                    <polygon points="253.197,-44.6023 247.317,-35.789 246.418,-46.3456 253.197,-44.6023"></polygon>
                </g>
                <!-- D -->
                <g id="node13" class="node vendor">
                    <ellipse fill="none" cx="315" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="315" y="-13.8">C</text>
                </g>
                <!-- B&#45;&gt;D -->
                <g id="edge12" class="edge">
                    <path fill="none" d="M272.984,-73.4647C279.976,-64.4021 288.936,-52.7865 296.785,-42.6119"></path>
                    <polygon points="299.712,-44.5475 303.049,-34.4918 294.17,-40.2719 299.712,-44.5475"></polygon>
                </g>
                <!-- V -->
                <g id="node18" class="node vendor">
                    <ellipse fill="none" cx="279" cy="-162" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="279" y="-157.8">vendor.js</text>
                </g>
                <!-- V&#45;&gt;B -->
                <g id="edge18" class="edge">
                    <path fill="none" d="M274.643,-144.055C272.609,-136.145 270.139,-126.54 267.863,-117.688"></path>
                    <polygon points="271.197,-116.602 265.317,-107.789 264.418,-118.346 271.197,-116.602"></polygon>
                </g>
                <!-- 1 -->
                <g id="node21" class="node vendor">
                    <ellipse fill="none" cx="387" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- V&#45;&gt;1 -->
                <g id="edge20" class="edge">
                    <path fill="none" d="M297.812,-148.807C315.002,-137.665 340.618,-121.062 359.993,-108.504"></path>
                    <polygon points="361.916,-111.429 368.403,-103.053 358.108,-105.555 361.916,-111.429"></polygon>
                </g>
                <!-- 2 -->
                <g id="node23" class="node vendor">
                    <ellipse fill="none" cx="387" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- 1&#45;&gt;2 -->
                <g id="edge22" class="edge">
                    <path fill="none" d="M387,-71.6966C387,-63.9827 387,-54.7125 387,-46.1124"></path>
                    <polygon points="390.5,-46.1043 387,-36.1043 383.5,-46.1044 390.5,-46.1043"></polygon>
                </g>
                <!-- 3 -->
                <g id="node25" class="node vendor">
                    <ellipse fill="none" cx="459" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- 1&#45;&gt;3 -->
                <g id="edge24" class="edge">
                    <path fill="none" d="M401.57,-74.8345C411.75,-64.9376 425.524,-51.5462 437.031,-40.3591"></path>
                    <polygon points="439.474,-42.865 444.204,-33.3847 434.595,-37.8461 439.474,-42.865"></polygon>
                </g>
            </g>
        </svg>
    </section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/bundle-splitting-app-map.png" alt="No optimisation">
		</figure>
	</section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/bundle-splitting-vendor-map.png" alt="No optimisation">
		</figure>
	</section>

    <section class="slide prism">
        <pre style="font-size: 21px;" class="language-javascript line-numbers">
            <code>
                module.exports = {
                    entry: {
                        app: './src/main.ts'
                    },
                    plugins: {
                        new webpack.optimize.CommonsChunkPlugin({
                            name: 'vendor',
                            chunks: ['app'],
                            minChunks: module => /node_modules/.test(module.resource)
                        }),
                    }
                };
            </code>
        </pre>
    </section>

    <section class="slide">
        <svg width="100%" height="350px" viewBox="0.00 0.00 494.00 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">

                <!-- A -->
                <g id="node1" class="node">
                    <ellipse fill="none" cx="171" cy="-162" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="171" y="-157.8">app.js</text>
                </g>
                <!-- G -->
                <g id="node3" class="node">
                    <ellipse fill="none" cx="99" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;G -->
                <g id="edge2" class="edge">
                    <path fill="none" d="M156.43,-146.834C146.25,-136.938 132.476,-123.546 120.969,-112.359"></path>
                    <polygon points="123.405,-109.846 113.796,-105.385 118.526,-114.865 123.405,-109.846"></polygon>
                </g>
                <!-- X -->
                <g id="node5" class="node">
                    <ellipse fill="none" cx="171" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- A&#45;&gt;X -->
                <g id="edge4" class="edge">
                    <path fill="none" d="M171,-143.697C171,-135.983 171,-126.712 171,-118.112"></path>
                    <polygon points="174.5,-118.104 171,-108.104 167.5,-118.104 174.5,-118.104"></polygon>
                </g>
                <!-- B -->
                <g id="node7" class="node vendor">
                    <ellipse fill="none" cx="261" cy="-90" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="261" y="-85.8">A</text>
                </g>
                <!-- A&#45;&gt;B -->
                <g id="edge6" class="edge">
                    <path fill="none" d="M187.928,-147.834C201.505,-137.274 220.757,-122.3 236.092,-110.373"></path>
                    <polygon points="238.403,-113.01 244.148,-104.107 234.105,-107.484 238.403,-113.01"></polygon>
                </g>
                <!-- F -->
                <g id="node15" class="node question">
                    <ellipse fill="none" cx="27" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- G&#45;&gt;F -->
                <g id="edge14" class="edge">
                    <path fill="none" d="M84.4297,-74.8345C74.2501,-64.9376 60.4761,-51.5462 48.9694,-40.3591"></path>
                    <polygon points="51.4055,-37.8461 41.7957,-33.3847 46.5259,-42.865 51.4055,-37.8461"></polygon>
                </g>
                <!-- K -->
                <g id="node17" class="node">
                    <ellipse fill="none" cx="99" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- G&#45;&gt;K -->
                <g id="edge16" class="edge">
                    <path fill="none" d="M99,-71.6966C99,-63.9827 99,-54.7125 99,-46.1124"></path>
                    <polygon points="102.5,-46.1043 99,-36.1043 95.5001,-46.1044 102.5,-46.1043"></polygon>
                </g>
                <!-- Y -->
                <g id="node9" class="node">
                    <ellipse fill="none" cx="171" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- X&#45;&gt;Y -->
                <g id="edge8" class="edge">
                    <path fill="none" d="M171,-71.6966C171,-63.9827 171,-54.7125 171,-46.1124"></path>
                    <polygon points="174.5,-46.1043 171,-36.1043 167.5,-46.1044 174.5,-46.1043"></polygon>
                </g>
                <!-- C -->
                <g id="node11" class="node vendor">
                    <ellipse fill="none" cx="243" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="243" y="-13.8">B</text>
                </g>
                <!-- B&#45;&gt;C -->
                <g id="edge10" class="edge">
                    <path fill="none" d="M256.643,-72.055C254.609,-64.1446 252.139,-54.5398 249.863,-45.6879"></path>
                    <polygon points="253.197,-44.6023 247.317,-35.789 246.418,-46.3456 253.197,-44.6023"></polygon>
                </g>
                <!-- D -->
                <g id="node13" class="node vendor">
                    <ellipse fill="none" cx="315" cy="-18" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="315" y="-13.8">C</text>
                </g>
                <!-- B&#45;&gt;D -->
                <g id="edge12" class="edge">
                    <path fill="none" d="M272.984,-73.4647C279.976,-64.4021 288.936,-52.7865 296.785,-42.6119"></path>
                    <polygon points="299.712,-44.5475 303.049,-34.4918 294.17,-40.2719 299.712,-44.5475"></polygon>
                </g>
                <!-- V -->
                <g id="node18" class="node vendor">
                    <ellipse fill="none" cx="279" cy="-162" rx="27" ry="18"></ellipse>
                    <text text-anchor="middle" x="279" y="-157.8">vendor.js</text>
                </g>
                <!-- V&#45;&gt;B -->
                <g id="edge18" class="edge">
                    <path fill="none" d="M274.643,-144.055C272.609,-136.145 270.139,-126.54 267.863,-117.688"></path>
                    <polygon points="271.197,-116.602 265.317,-107.789 264.418,-118.346 271.197,-116.602"></polygon>
                </g>
                <!-- 1 -->
                <g id="node21" class="node vendor empty">
                    <ellipse fill="none" cx="387" cy="-90" rx="27" ry="18"></ellipse>
                </g>
                <!-- V&#45;&gt;1 -->
                <g id="edge20" class="edge">
                    <path fill="none" d="M297.812,-148.807C315.002,-137.665 340.618,-121.062 359.993,-108.504"></path>
                    <polygon points="361.916,-111.429 368.403,-103.053 358.108,-105.555 361.916,-111.429"></polygon>
                </g>
                <!-- 2 -->
                <g id="node23" class="node vendor empty">
                    <ellipse fill="none" cx="387" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- 1&#45;&gt;2 -->
                <g id="edge22" class="edge">
                    <path fill="none" d="M387,-71.6966C387,-63.9827 387,-54.7125 387,-46.1124"></path>
                    <polygon points="390.5,-46.1043 387,-36.1043 383.5,-46.1044 390.5,-46.1043"></polygon>
                </g>
                <!-- 3 -->
                <g id="node25" class="node vendor empty">
                    <ellipse fill="none" cx="459" cy="-18" rx="27" ry="18"></ellipse>
                </g>
                <!-- 1&#45;&gt;3 -->
                <g id="edge24" class="edge">
                    <path fill="none" d="M401.57,-74.8345C411.75,-64.9376 425.524,-51.5462 437.031,-40.3591"></path>
                    <polygon points="439.474,-42.865 444.204,-33.3847 434.595,-37.8461 439.474,-42.865"></polygon>
                </g>
            </g>
        </svg>
    </section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/bundle-splitting-with-tree-shaking-vendor-map.png" alt="No optimisation">
		</figure>
	</section>

	<section class="slide prism">
		<h2>Bundling</h2>
		<pre class="language-javascript">
            <code>
                // maths.js
                export function <mark class="important">square(x)</mark> { return x * x; }
                export function cube(x) { return x * x * x; }
                
                // main.js
                import { cube } from './maths.js';
                console.log(cube(5)); // 125
            </code>
		</pre>
	</section>

    <section class="slide prism">
		<pre style="font-size: 22px;" class="language-javascript">
            <code>
                /***/ (function(module, exports, __webpack_require__) {
                    "use strict";
                    exports.__esModule = true;
                    exports.square = square;
                    exports.cube = cube;
                    function square(x) {
                        return x * x;
                    }
                    function cube(x) {
                        return x * x * x;
                    }
                /***/ }),
            </code>
		</pre>
	</section>

    <section class="slide">
        <h2>Tree shaking</h2>
		<ul>
			<li>Bundler removes <b>references</b> to dead code</li>
			<li class="next">Minification removes dead code</li>
			<li class="next">Webpack 2.x + ES6 (import/export)</li>
			<li class="next">Babel</li>
		</ul>
    </section>

    <section class="slide prism">
        <h2>Tree Shaking - Webpack</h2>
        <pre class="language-javascript">
            <code>
                test: /\.js$/,
                exclude: /node_modules/,
                loader: 'babel-loader',
                options: {
                    presets: [
                        [ 'es2015', { <mark class="important">modules: false</mark> } ] // default CommonJS
                    ]
                }
            </code>
		</pre>
	</section>

    <section class="slide prism">
        <pre style="font-size: 22px;" class="language-javascript">
            <code>
                /***/ (function(module, __webpack_exports__, __webpack_require__) {
                    "use strict";
                    /* unused harmony export square */
                    /* harmony export (immutable) */ __webpack_exports__["a"] = cube;
                    function square(x) {
                        return x * x;
                    }
                    function cube(x) {
                        return x * x * x;
                    }
                /***/ }),
            </code>
        </pre>
    </section>

    <section class="slide prism">
        <h2>Bundle + Minification = Tree Shaking</h2>
        <pre style="font-size: 22px;" class="language-javascript">
            <code>
                function(module, __webpack_exports__, __webpack_require__) {
                    "use strict";
                    function cube(x) {
                        return x * x * x;
                    }
                    __webpack_exports__.a = cube;
                }
            </code>
        </pre>
    </section>

    <section class="slide">
		<figure>
			<img class="cover" src="pictures/bundle-splitting-with-tree-shaking-minify-vendor-map.png" alt="No optimisation">
		</figure>
	</section>

    <section class="slide compact">
        <video width="100%" preload>
            <source src="videos/tree-shaking.webm" type="video/webm">
        </video>
	</section>

    <section class="slide middle with-img">
		<div class="middle">
			<p>App bundle + UglifyJs + Tree Shaking</p>
			1.3MB => 3:25min @ 3G
		</div>
		<img src="pictures/smile.gif"/>
	</section>
    
    <section class="slide">
        <h3 class="shout">See you next month at WarsawJS</h3>
    </section>

    <div class="progress"></div>

    <footer class="badge">
        <a href="https://github.com/warsawjs/warsawjs-slides-template">Fork me on GitHub</a>
    </footer>

    <footer class="badge badge-top-left">
        <a href="#" class="fullscreen">Fullscreen</a>
    </footer>

    <script src="vendors/gamepad/gamepad.js"></script>
    <script src="vendors/shower/shower.min.js"></script>
    <script src="vendors/shower-gamepad/shower.gamepad.js"></script>
    <script src="vendors/shower-video/shower-video.js"></script>
    <script src="vendors/chartist/chartist.min.js"></script>
    <script src="modules/fullscreen.js"></script>
    <script src="modules/legend.js"></script>
	<script src="modules/createRect.js"></script>
	<script src="modules/charts.js"></script>

    <!-- Prism.js -->
    <script src="vendors/prism/prism.js"></script>
    <script src="modules/custom-prism.js"></script>
</body>
</html>
